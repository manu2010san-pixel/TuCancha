<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canchas App - Reserva tu cancha</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .auth-container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
    }

    .auth-box {
      background: white;
      border-radius: 20px;
      padding: 40px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    .auth-logo {
      text-align: center;
      margin-bottom: 30px;
    }

    .auth-logo h1 {
      font-size: 32px;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .auth-logo p {
      color: var(--gray);
    }

    .type-selection {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }

    .type-card {
      border: 3px solid #e9ecef;
      border-radius: 16px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .type-card:hover,
    .type-card.selected {
      border-color: var(--primary);
      background: rgba(0,184,148,0.05);
      transform: translateY(-5px);
    }

    .type-icon {
      font-size: 48px;
      margin-bottom: 15px;
    }

    .type-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .type-desc {
      font-size: 14px;
      color: var(--gray);
    }

    .auth-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
    }

    .auth-tab {
      flex: 1;
      padding: 12px;
      border: none;
      background: #f8f9fa;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .auth-tab.active {
      background: var(--primary);
      color: white;
    }

    .auth-form {
      display: none;
    }

    .auth-form.active {
      display: block;
    }

    .phone-input-wrapper {
      display: flex;
      gap: 10px;
    }

    .phone-prefix {
      width: 80px;
      text-align: center;
      background: #f8f9fa;
    }

    .divider {
      text-align: center;
      margin: 25px 0;
      position: relative;
    }

    .divider::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      background: #e9ecef;
    }

    .divider span {
      background: white;
      padding: 0 15px;
      position: relative;
      color: var(--gray);
      font-size: 14px;
    }

    @media (max-width: 480px) {
      .type-selection {
        grid-template-columns: 1fr;
      }
      
      .auth-box {
        padding: 25px;
      }
    }
  </style>
</head>
<body>
  <div class="auth-container">
    <div class="auth-box animate-fade-in">
      <div class="auth-logo">
        <h1>‚öΩ CanchasApp</h1>
        <p>Reserva tu cancha en segundos</p>
      </div>

      <!-- Selecci√≥n de tipo de usuario -->
      <div id="typeSelection" class="type-selection">
        <div class="type-card" data-type="owner">
          <div class="type-icon">üèüÔ∏è</div>
          <div class="type-title">Soy Due√±o</div>
          <div class="type-desc">Administra tus canchas y recibe reservas</div>
        </div>
        <div class="type-card" data-type="client">
          <div class="type-icon">‚öΩ</div>
          <div class="type-title">Quiero Jugar</div>
          <div class="type-desc">Encuentra y reserva canchas</div>
        </div>
      </div>

      <!-- Tabs Login/Registro -->
      <div class="auth-tabs">
        <button class="auth-tab active" onclick="switchTab('login')">Iniciar Sesi√≥n</button>
        <button class="auth-tab" onclick="switchTab('register')">Crear Cuenta</button>
      </div>

      <!-- Formulario Login -->
      <form id="loginForm" class="auth-form active">
        <div class="form-group">
          <label class="form-label">Correo electr√≥nico</label>
          <input type="email" class="form-input" id="loginEmail" required placeholder="tu@email.com">
        </div>
        <div class="form-group">
          <label class="form-label">Contrase√±a</label>
          <input type="password" class="form-input" id="loginPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          Iniciar Sesi√≥n
        </button>
      </form>

      <!-- Formulario Registro -->
      <form id="registerForm" class="auth-form">
        <input type="hidden" id="userType" value="">
        
        <div class="form-group">
          <label class="form-label">Nombre completo</label>
          <input type="text" class="form-input" id="regName" required placeholder="Juan P√©rez">
        </div>

        <div class="form-group">
          <label class="form-label">Correo electr√≥nico</label>
          <input type="email" class="form-input" id="regEmail" required placeholder="tu@email.com">
        </div>

        <div class="form-group">
          <label class="form-label">Tel√©fono celular</label>
          <div class="phone-input-wrapper">
            <input type="text" class="form-input phone-prefix" value="+54" readonly>
            <input type="tel" class="form-input" id="regPhone" required placeholder="9 1234 5678" maxlength="10">
          </div>
          <small style="color: var(--gray); margin-top: 5px; display: block;">
            Sin el 0 inicial, solo n√∫meros
          </small>
        </div>

        <div class="form-group" id="businessFields" style="display: none;">
          <label class="form-label">Nombre del complejo</label>
          <input type="text" class="form-input" id="regBusinessName" placeholder="Complejo Deportivo">
        </div>

        <div class="form-group">
          <label class="form-label">Contrase√±a</label>
          <input type="password" class="form-input" id="regPassword" required placeholder="M√≠nimo 6 caracteres" minlength="6">
        </div>

        <div class="form-group">
          <label class="form-label">Confirmar contrase√±a</label>
          <input type="password" class="form-input" id="regConfirmPassword" required placeholder="Repite tu contrase√±a">
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%;">
          Crear Cuenta
        </button>
      </form>

      <div class="divider">
        <span>O continuar con</span>
      </div>

      <button class="btn btn-outline" style="width: 100%;" onclick="loginWithGoogle()">
        üîç Google
      </button>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <script type="module" src="js/auth.js"></script>
  <script>
    // UI Interactions
    let selectedType = null;

    document.querySelectorAll('.type-card').forEach(card => {
      card.addEventListener('click', function() {
        document.querySelectorAll('.type-card').forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
        selectedType = this.dataset.type;
        document.getElementById('userType').value = selectedType;
        
        // Mostrar/ocultar campos de negocio
        const businessFields = document.getElementById('businessFields');
        if (selectedType === 'owner') {
          businessFields.style.display = 'block';
          document.getElementById('regBusinessName').required = true;
        } else {
          businessFields.style.display = 'none';
          document.getElementById('regBusinessName').required = false;
        }
      });
    });

    function switchTab(tab) {
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
      
      event.target.classList.add('active');
      document.getElementById(tab + 'Form').classList.add('active');
    }

    // Validaci√≥n de tel√©fono
    document.getElementById('regPhone').addEventListener('input', function(e) {
      e.target.value = e.target.value.replace(/\D/g, '');
    });
  </script>
</body>
</html>
<!-- owner-dashboard.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Due√±o - CanchasApp</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .sidebar {
      background: var(--dark);
      color: white;
      min-height: calc(100vh - 70px);
      padding: 30px 20px;
    }

    .sidebar-menu {
      list-style: none;
    }

    .sidebar-item {
      margin-bottom: 10px;
    }

    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      color: #b2bec3;
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .sidebar-link:hover,
    .sidebar-link.active {
      background: var(--primary);
      color: white;
    }

    .dashboard-layout {
      display: grid;
      grid-template-columns: 260px 1fr;
    }

    .court-card {
      position: relative;
      overflow: hidden;
    }

    .court-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .court-status {
      position: absolute;
      top: 15px;
      right: 15px;
    }

    .stats-overview {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }

    .reservation-row {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr auto;
      align-items: center;
      padding: 15px;
      border-bottom: 1px solid #e9ecef;
    }

    .client-reliability {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .reliability-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    @media (max-width: 1024px) {
      .dashboard-layout {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        display: none;
      }
      
      .stats-overview {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .schedule-editor {
      display: grid;
      gap: 15px;
    }

    .day-schedule {
      display: grid;
      grid-template-columns: 100px 60px 1fr 1fr auto;
      gap: 10px;
      align-items: center;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 8px;
    }

    .pricing-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .price-period {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="container navbar-content">
      <a href="#" class="nav-brand">‚öΩ CanchasApp</a>
      <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
      <ul class="nav-menu" id="navMenu">
        <li><a href="#" class="nav-link active" onclick="showSection('dashboard')">Dashboard</a></li>
        <li><a href="#" class="nav-link" onclick="showSection('courts')">Mis Canchas</a></li>
        <li><a href="#" class="nav-link" onclick="showSection('reservations')">Reservas</a></li>
        <li><a href="#" class="nav-link" onclick="showSection('reviews')">Rese√±as</a></li>
        <li><a href="#" class="nav-link" onclick="logout()">Cerrar Sesi√≥n</a></li>
      </ul>
    </div>
  </nav>

  <div class="dashboard-layout">
    <!-- Sidebar Desktop -->
    <aside class="sidebar">
      <div style="margin-bottom: 30px;">
        <h3 id="ownerName">Cargando...</h3>
        <p style="color: #b2bec3; font-size: 14px;">Due√±o de Canchas</p>
      </div>
      
      <ul class="sidebar-menu">
        <li class="sidebar-item">
          <a href="#" class="sidebar-link active" onclick="showSection('dashboard')">
            <span>üìä</span> Dashboard
          </a>
        </li>
        <li class="sidebar-item">
          <a href="#" class="sidebar-link" onclick="showSection('courts')">
            <span>üèüÔ∏è</span> Mis Canchas
          </a>
        </li>
        <li class="sidebar-item">
          <a href="#" class="sidebar-link" onclick="showSection('reservations')">
            <span>üìÖ</span> Reservas
          </a>
        </li>
        <li class="sidebar-item">
          <a href="#" class="sidebar-link" onclick="showSection('reviews')">
            <span>‚≠ê</span> Rese√±as
          </a>
        </li>
        <li class="sidebar-item">
          <a href="#" class="sidebar-link" onclick="showSection('settings')">
            <span>‚öôÔ∏è</span> Configuraci√≥n
          </a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="container" style="padding: 30px;">
      
      <!-- DASHBOARD SECTION -->
      <section id="dashboard" class="section active">
        <h2 style="margin-bottom: 25px;">Dashboard</h2>
        
        <div class="stats-overview">
          <div class="stat-card">
            <div class="stat-value" id="statTotalCourts">0</div>
            <div class="stat-label">Canchas</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="statTodayReservations">0</div>
            <div class="stat-label">Reservas Hoy</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="statPending">0</div>
            <div class="stat-label">Pendientes</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="statRevenue">$0</div>
            <div class="stat-label">Ingresos Mes</div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Reservas de Hoy</h3>
            <a href="#" class="btn btn-outline" onclick="showSection('reservations')">Ver todas</a>
          </div>
          <div id="todayReservationsList">
            <!-- Se llena din√°micamente -->
          </div>
        </div>
      </section>

      <!-- COURTS SECTION -->
      <section id="courts" class="section hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
          <h2>Mis Canchas</h2>
          <button class="btn btn-primary" onclick="openAddCourtModal()">
            + Agregar Cancha
          </button>
        </div>

        <div class="grid grid-2" id="courtsGrid">
          <!-- Se llena din√°micamente -->
        </div>
      </section>

      <!-- RESERVATIONS SECTION -->
      <section id="reservations" class="section hidden">
        <h2 style="margin-bottom: 25px;">Gesti√≥n de Reservas</h2>
        
        <div class="card">
          <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
            <button class="btn btn-secondary active" onclick="filterReservations('all')">Todas</button>
            <button class="btn btn-outline" onclick="filterReservations('pending')">Pendientes</button>
            <button class="btn btn-outline" onclick="filterReservations('confirmed')">Confirmadas</button>
            <button class="btn btn-outline" onclick="filterReservations('completed')">Completadas</button>
          </div>

          <div id="reservationsList">
            <!-- Se llena din√°micamente -->
          </div>
        </div>
      </section>

      <!-- REVIEWS SECTION -->
      <section id="reviews" class="section hidden">
        <h2 style="margin-bottom: 25px;">Rese√±as de tus Canchas</h2>
        <div id="reviewsList">
          <!-- Se llena din√°micamente -->
        </div>
      </section>

      <!-- SETTINGS SECTION -->
      <section id="settings" class="section hidden">
        <h2 style="margin-bottom: 25px;">Configuraci√≥n del Negocio</h2>
        
        <div class="card">
          <h3 style="margin-bottom: 20px;">Link de Pago</h3>
          <div class="form-group">
            <label class="form-label">URL de MercadoPago / Stripe</label>
            <input type="url" class="form-input" id="paymentLink" placeholder="https://mpago.la/...">
          </div>
          <button class="btn btn-primary" onclick="savePaymentLink()">Guardar</button>
        </div>
      </section>
    </main>
  </div>

  <!-- MODAL: Agregar Cancha -->
  <div class="modal-overlay" id="addCourtModal">
    <div class="modal-content" style="max-width: 800px;">
      <div class="modal-header">
        <h2>Agregar Nueva Cancha</h2>
        <button class="modal-close" onclick="closeModal('addCourtModal')">&times;</button>
      </div>
      
      <form id="addCourtForm">
        <div class="grid grid-2">
          <div>
            <div class="form-group">
              <label class="form-label">Nombre de la cancha</label>
              <input type="text" class="form-input" id="courtName" required>
            </div>
            
            <div class="form-group">
              <label class="form-label">Tipo de deporte</label>
              <select class="form-select" id="sportType">
                <option value="futbol5">F√∫tbol 5</option>
                <option value="futbol7">F√∫tbol 7</option>
                <option value="futbol11">F√∫tbol 11</option>
                <option value="padel">P√°del</option>
                <option value="tenis">Tenis</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Superficie</label>
              <select class="form-select" id="surfaceType">
                <option value="sintetico">C√©sped Sint√©tico</option>
                <option value="natural">C√©sped Natural</option>
                <option value="cemento">Cemento</option>
                <option value="parquet">Parquet</option>
                <option value="arcilla">Arcilla</option>
              </select>
            </div>
          </div>

          <div>
            <div class="form-group">
              <label class="form-label">Direcci√≥n</label>
              <input type="text" class="form-input" id="courtAddress" required>
            </div>

            <div class="form-group">
              <label class="form-label">Descripci√≥n</label>
              <textarea class="form-textarea" id="courtDescription" placeholder="Caracter√≠sticas especiales..."></textarea>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Servicios disponibles</label>
          <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <label class="toggle-switch">
              <input type="checkbox" value="vestuarios">
              <span class="slider"></span>
            </label>
            <span>Vestuarios</span>
            
            <label class="toggle-switch">
              <input type="checkbox" value="estacionamiento">
              <span class="slider"></span>
            </label>
            <span>Estacionamiento</span>
            
            <label class="toggle-switch">
              <input type="checkbox" value="iluminacion">
              <span class="slider"></span>
            </label>
            <span>Iluminaci√≥n</span>
            
            <label class="toggle-switch">
              <input type="checkbox" value="bar">
              <span class="slider"></span>
            </label>
            <span>Bar/Cantina</span>
          </div>
        </div>

        <h3 style="margin: 25px 0 15px;">Horarios de Apertura</h3>
        <div class="schedule-editor" id="scheduleEditor">
          <!-- Se genera din√°micamente -->
        </div>

        <h3 style="margin: 25px 0 15px;">Precios (ARS)</h3>
        <div class="pricing-grid">
          <div class="price-period">
            <h4>D√≠as de semana</h4>
            <div class="form-group">
              <label>Ma√±ana (8-12)</label>
              <input type="number" class="form-input" id="priceWeekMorning" placeholder="$">
            </div>
            <div class="form-group">
              <label>Tarde (12-18)</label>
              <input type="number" class="form-input" id="priceWeekAfternoon" placeholder="$">
            </div>
            <div class="form-group">
              <label>Noche (18-23)</label>
              <input type="number" class="form-input" id="priceWeekNight" placeholder="$">
            </div>
          </div>
          
          <div class="price-period">
            <h4>Fin de semana</h4>
            <div class="form-group">
              <label>Ma√±ana (8-12)</label>
              <input type="number" class="form-input" id="priceWeekendMorning" placeholder="$">
            </div>
            <div class="form-group">
              <label>Tarde (12-18)</label>
              <input type="number" class="form-input" id="priceWeekendAfternoon" placeholder="$">
            </div>
            <div class="form-group">
              <label>Noche (18-23)</label>
              <input type="number" class="form-input" id="priceWeekendNight" placeholder="$">
            </div>
          </div>
        </div>

        <div class="form-group" style="margin-top: 20px;">
          <label class="form-label">Fotos de la cancha</label>
          <div class="image-upload" onclick="document.getElementById('courtImages').click()">
            <p>üì∑ Arrastra fotos aqu√≠ o haz clic para seleccionar</p>
            <input type="file" id="courtImages" multiple accept="image/*" hidden onchange="previewImages(this)">
          </div>
          <div class="image-preview-grid" id="imagePreviewGrid"></div>
        </div>

        <div style="display: flex; gap: 15px; margin-top: 25px;">
          <button type="button" class="btn btn-outline" onclick="closeModal('addCourtModal')">Cancelar</button>
          <button type="submit" class="btn btn-primary" style="flex: 1;">Crear Cancha</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <script type="module" src="js/owner-app.js"></script>
  <script>
    function toggleMobileMenu() {
      document.getElementById('navMenu').classList.toggle('active');
    }

    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
      document.getElementById(sectionId).classList.remove('hidden');
      
      document.querySelectorAll('.sidebar-link, .nav-link').forEach(l => l.classList.remove('active'));
      event.target.classList.add('active');
    }

    function openAddCourtModal() {
      document.getElementById('addCourtModal').classList.add('active');
      generateScheduleEditor();
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
    }

    function generateScheduleEditor() {
      const days = [
        { key: 'monday', label: 'Lunes' },
        { key: 'tuesday', label: 'Martes' },
        { key: 'wednesday', label: 'Mi√©rcoles' },
        { key: 'thursday', label: 'Jueves' },
        { key: 'friday', label: 'Viernes' },
        { key: 'saturday', label: 'S√°bado' },
        { key: 'sunday', label: 'Domingo' }
      ];

      const container = document.getElementById('scheduleEditor');
      container.innerHTML = days.map(day => `
        <div class="day-schedule">
          <strong>${day.label}</strong>
          <label class="toggle-switch">
            <input type="checkbox" checked onchange="toggleDaySchedule('${day.key}')">
            <span class="slider"></span>
          </label>
          <input type="time" class="form-input" value="08:00" id="${day.key}Open">
          <input type="time" class="form-input" value="23:00" id="${day.key}Close">
        </div>
      `).join('');
    }

    function toggleDaySchedule(day) {
      const inputs = document.querySelectorAll(`#${day}Open, #${day}Close`);
      inputs.forEach(input => input.disabled = !input.disabled);
    }

    function previewImages(input) {
      const grid = document.getElementById('imagePreviewGrid');
      grid.innerHTML = '';
      
      Array.from(input.files).forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = (e) => {
          const div = document.createElement('div');
          div.className = 'image-preview';
          div.innerHTML = `
            <img src="${e.target.result}">
            <button type="button" class="image-remove" onclick="this.parentElement.remove()">√ó</button>
          `;
          grid.appendChild(div);
        };
        reader.readAsDataURL(file);
      });
    }

    function filterReservations(status) {
      // Implementar filtrado
      console.log('Filtrar por:', status);
    }
  </script>
</body>
</html>
<!-- client-dashboard.html -->
<!-- Agregar en el <head> -->
<script src="https://maps.googleapis.com/maps/api/js?key=TU_API_KEY&libraries=places&callback=initMap" async defer></script>

<!-- Reemplazar la secci√≥n de b√∫squeda -->
<section id="explore" class="section active">
  <div class="search-hero">
    <h1 style="font-size: 42px; margin-bottom: 15px;">Encontr√° tu cancha ideal</h1>
    <p style="font-size: 18px; opacity: 0.9;">Reserv√° en segundos, pag√° seguro, jug√° feliz</p>
    
    <div class="search-box">
      <input type="text" class="search-input" placeholder="¬øD√≥nde quer√©s jugar? Ej: Palermo, Buenos Aires" id="searchInput">
      <button class="search-btn" onclick="searchLocation()">üîç</button>
      <button class="search-btn" style="right: 60px; background: #0984e3;" onclick="locateMe()" title="Usar mi ubicaci√≥n">üìç</button>
    </div>
  </div>

  <div class="container">
    <!-- Mapa -->
    <div id="map" style="width: 100%; height: 400px; border-radius: 16px; margin-bottom: 30px; box-shadow: var(--shadow);"></div>
    
    <!-- Controles de radio -->
    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
      <span>Distancia m√°xima:</span>
      <input type="range" min="1" max="50" value="10" id="radiusSlider" onchange="updateRadius(this.value)" style="flex: 1;">
      <span id="radiusValue" style="min-width: 60px; font-weight: 700;">10 km</span>
    </div>

    <!-- Filtros -->
    <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; align-items: center;">
      <!-- ... filtros existentes ... -->
    </div>

    <h3 style="margin-bottom: 20px;">Canchas cercanas <span id="resultsCount" style="color: var(--gray); font-weight: normal;"></span></h3>
    <div class="grid grid-3" id="courtsGrid">
      <!-- Se llena din√°micamente -->
    </div>
  </div>
</section>

<script>
  // Funciones de b√∫squeda
  async function searchLocation() {
    const address = document.getElementById('searchInput').value;
    if (!address) return;
    
    try {
      const location = await geocodeAddress(address);
      await loadNearbyCourts(location, parseInt(document.getElementById('radiusSlider').value));
    } catch (error) {
      showToast('No se encontr√≥ la ubicaci√≥n', 'error');
    }
  }

  function locateMe() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const location = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          map.setCenter(location);
          loadNearbyCourts(location, parseInt(document.getElementById('radiusSlider').value));
        },
        () => showToast('No se pudo obtener tu ubicaci√≥n', 'error')
      );
    }
  }

  function updateRadius(value) {
    document.getElementById('radiusValue').textContent = value + ' km';
    if (userLocation) {
      loadNearbyCourts(userLocation, parseInt(value));
    }
  }
</script>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Cliente - CanchasApp</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .search-hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      padding: 60px 20px;
      text-align: center;
      margin-bottom: 30px;
    }

    .search-box {
      max-width: 600px;
      margin: 30px auto 0;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 20px 60px 20px 25px;
      border: none;
      border-radius: 50px;
      font-size: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .search-btn {
      position: absolute;
      right: 5px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--primary);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
    }

    .court-card-client {
      transition: transform 0.3s;
      cursor: pointer;
    }

    .court-card-client:hover {
      transform: translateY(-10px);
    }

    .court-image-client {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 12px 12px 0 0;
    }

    .court-info {
      padding: 20px;
    }

    .court-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 10px;
    }

    .court-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--dark);
    }

    .court-rating {
      display: flex;
      align-items: center;
      gap: 5px;
      background: var(--warning);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 14px;
    }

    .court-meta {
      display: flex;
      gap: 15px;
      color: var(--gray);
      font-size: 14px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .court-features {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 15px;
    }

    .feature-tag {
      background: #f8f9fa;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      color: var(--gray);
    }

    .court-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 15px;
      border-top: 1px solid #e9ecef;
    }

    .price-display {
      font-size: 24px;
      font-weight: 800;
      color: var(--primary);
    }

    .price-period {
      font-size: 14px;
      color: var(--gray);
    }

    /* Profile Section */
    .profile-header {
      background: white;
      padding: 40px;
      border-radius: var(--radius);
      text-align: center;
      margin-bottom: 30px;
      box-shadow: var(--shadow);
    }

    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 4px solid var(--primary);
    }

    .reliability-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: var(--radius);
      text-align: center;
      margin-bottom: 30px;
    }

    .reliability-score {
      font-size: 64px;
      font-weight: 800;
      margin: 20px 0;
    }

    .history-timeline {
      position: relative;
      padding-left: 30px;
    }

    .history-timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: #e9ecef;
    }

    .history-item {
      position: relative;
      margin-bottom: 25px;
      padding: 20px;
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .history-item::before {
      content: '';
      position: absolute;
      left: -26px;
      top: 24px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--primary);
      border: 3px solid white;
      box-shadow: 0 0 0 3px var(--primary);
    }

    .history-status {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    .booking-calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      margin: 20px 0;
    }

    .calendar-day-select {
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .calendar-day-select:hover,
    .calendar-day-select.selected {
      border-color: var(--primary);
      background: rgba(0,184,148,0.1);
    }

    .calendar-day-select.disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .day-name {
      font-size: 12px;
      color: var(--gray);
      text-transform: uppercase;
    }

    .day-number {
      font-size: 20px;
      font-weight: 700;
      margin: 5px 0;
    }

    .day-price {
      font-size: 11px;
      color: var(--primary);
      font-weight: 600;
    }

    .time-slots-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 20px;
    }

    .time-slot-btn {
      padding: 15px;
      border: 2px solid #e9ecef;
      border-radius: 10px;
      background: white;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .time-slot-btn:hover:not(.occupied) {
      border-color: var(--primary);
      color: var(--primary);
    }

    .time-slot-btn.selected {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    .time-slot-btn.occupied {
      background: #f8f9fa;
      color: var(--light-gray);
      cursor: not-allowed;
      text-decoration: line-through;
    }

    .deposit-warning {
      background: #fff3cd;
      border-left: 4px solid var(--warning);
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="container navbar-content">
      <a href="#" class="nav-brand">‚öΩ CanchasApp</a>
      <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
      <ul class="nav-menu" id="navMenu">
        <li><a href="#" class="nav-link active" onclick="showSection('explore')">Explorar</a></li>
        <li><a href="#" class="nav-link" onclick="showSection('reservations')">Mis Reservas</a></li>
        <li><a href="#" class="nav-link" onclick="showSection('profile')">Perfil</a></li>
        <li><a href="#" class="nav-link" onclick="logout()">Cerrar Sesi√≥n</a></li>
      </ul>
    </div>
  </nav>

  <!-- EXPLORE SECTION -->
  <section id="explore" class="section active">
    <div class="search-hero">
      <h1 style="font-size: 42px; margin-bottom: 15px;">Encontr√° tu cancha ideal</h1>
      <p style="font-size: 18px; opacity: 0.9;">Reserv√° en segundos, pag√° seguro, jug√° feliz</p>
      
      <div class="search-box">
        <input type="text" class="search-input" placeholder="¬øD√≥nde quer√©s jugar? Busca por zona o nombre..." id="searchInput">
        <button class="search-btn" onclick="searchCourts()">üîç</button>
      </div>
    </div>

    <div class="container">
      <!-- Filtros -->
      <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; align-items: center;">
        <select class="form-select" style="width: auto;" id="filterSport" onchange="filterCourts()">
          <option value="">Todos los deportes</option>
          <option value="futbol5">F√∫tbol 5</option>
          <option value="futbol7">F√∫tbol 7</option>
          <option value="futbol11">F√∫tbol 11</option>
          <option value="padel">P√°del</option>
          <option value="tenis">Tenis</option>
        </select>

        <select class="form-select" style="width: auto;" id="filterSurface" onchange="filterCourts()">
          <option value="">Todas las superficies</option>
          <option value="sintetico">C√©sped Sint√©tico</option>
          <option value="natural">C√©sped Natural</option>
          <option value="cemento">Cemento</option>
        </select>

        <div style="margin-left: auto; display: flex; align-items: center; gap: 10px;">
          <span style="color: var(--gray);">Ordenar por:</span>
          <select class="form-select" style="width: auto;" id="sortBy" onchange="sortCourts()">
            <option value="rating">Mejor puntuaci√≥n</option>
            <option value="price">Menor precio</option>
            <option value="distance">M√°s cercano</option>
          </select>
        </div>
      </div>

      <!-- Grid de Canchas -->
      <div class="grid grid-3" id="courtsGrid">
        <!-- Se llena din√°micamente -->
      </div>
    </div>
  </section>

  <!-- RESERVATIONS SECTION -->
  <section id="reservations" class="section hidden">
    <div class="container" style="padding: 40px 20px;">
      <h2 style="margin-bottom: 30px;">Mis Reservas</h2>
      
      <div class="grid grid-2" id="myReservationsList">
        <!-- Se llena din√°micamente -->
      </div>
    </div>
  </section>

  <!-- PROFILE SECTION -->
  <section id="profile" class="section hidden">
    <div class="container" style="padding: 40px 20px; max-width: 800px;">
      
      <div class="profile-header">
        <img src="https://via.placeholder.com/120" alt="Avatar" class="profile-avatar" id="clientAvatar">
        <h2 id="clientName">Cargando...</h2>
        <p style="color: var(--gray);" id="clientEmail">email@example.com</p>
      </div>

      <!-- Sistema de Confianza -->
      <div class="reliability-card" id="reliabilityCard">
        <h3>‚≠ê Nivel de Confianza</h3>
        <div class="reliability-score" id="reliabilityScore">--</div>
        <p id="reliabilityStatus">Calculando...</p>
        <small>Este puntaje ayuda a los due√±os a decidir si requieren se√±a</small>
      </div>

      <!-- Estad√≠sticas -->
      <div class="grid grid-4" style="margin-bottom: 30px;">
        <div class="stat-card">
          <div class="stat-value" id="statTotal">0</div>
          <div class="stat-label">Total Reservas</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color: var(--success);" id="statAttended">0</div>
          <div class="stat-label">Asistencias</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color: var(--danger);" id="statMissed">0</div>
          <div class="stat-label">Faltas</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color: var(--warning);" id="statCancelled">0</div>
          <div class="stat-label">Canceladas</div>
        </div>
      </div>

      <!-- Historial -->
      <h3 style="margin-bottom: 20px;">Historial de Reservas</h3>
      <div class="history-timeline" id="reservationHistory">
        <!-- Se llena din√°micamente -->
      </div>
    </div>
  </section>

  <!-- MODAL: Detalle de Cancha y Reserva -->
  <div class="modal-overlay" id="courtDetailModal">
    <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
      <div class="modal-header">
        <h2 id="modalCourtName">Nombre de la Cancha</h2>
        <button class="modal-close" onclick="closeModal('courtDetailModal')">&times;</button>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
        <div>
          <img id="modalCourtImage" src="" alt="Cancha" style="width: 100%; border-radius: 12px; margin-bottom: 20px;">
          
          <div id="modalCourtInfo">
            <!-- Info din√°mica -->
          </div>

          <div class="deposit-warning" id="depositWarning" style="display: none;">
            <strong>‚ö†Ô∏è Se√±a requerida</strong>
            <p>Tu nivel de confianza es bajo. El due√±o requiere una se√±a del 30% para confirmar esta reserva.</p>
          </div>
        </div>

        <div>
          <h3 style="margin-bottom: 20px;">Seleccionar fecha y horario</h3>
          
          <div class="booking-calendar" id="bookingCalendar">
            <!-- Generado din√°micamente -->
          </div>

          <div id="timeSlotsSection" style="display: none;">
            <h4 style="margin: 20px 0 15px;">Horarios disponibles</h4>
            <div class="time-slots-grid" id="timeSlotsGrid">
              <!-- Generado din√°micamente -->
            </div>
          </div>

          <div id="bookingSummary" style="display: none; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 12px;">
            <h4>Resumen</h4>
            <p>Fecha: <strong id="summaryDate">-</strong></p>
            <p>Horario: <strong id="summaryTime">-</strong></p>
            <p>Precio: <strong id="summaryPrice">-</strong></p>
            <p id="depositLine" style="display: none;">Se√±a (30%): <strong id="summaryDeposit">-</strong></p>
            
            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="confirmBooking()">
              Confirmar Reserva
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <script type="module" src="js/client-app.js"></script>
  <script>
    function toggleMobileMenu() {
      document.getElementById('navMenu').classList.toggle('active');
    }

    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
      document.getElementById(sectionId).classList.remove('hidden');
      
      document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
      event.target.classList.add('active');
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
    }

    function searchCourts() {
      const query = document.getElementById('searchInput').value;
      console.log('Buscando:', query);
      // Implementar b√∫squeda
    }

    function filterCourts() {
      // Implementar filtros
    }

    function sortCourts() {
      // Implementar ordenamiento
    }

    function confirmBooking() {
      // Implementar confirmaci√≥n
      closeModal('courtDetailModal');
      showToast('¬°Reserva confirmada!', 'success');
    }

    // Generar calendario de pr√≥ximos 14 d√≠as
    function generateCalendar() {
      const container = document.getElementById('bookingCalendar');
      const days = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];
      const today = new Date();
      
      container.innerHTML = '';
      
      for (let i = 0; i < 14; i++) {
        const date = new Date(today);
        date.setDate(today.getDate() + i);
        
        const dayDiv = document.createElement('div');
        dayDiv.className = `calendar-day-select ${i === 0 ? 'selected' : ''}`;
        dayDiv.innerHTML = `
          <span class="day-name">${days[date.getDay()]}</span>
          <span class="day-number">${date.getDate()}</span>
          <span class="day-price">$15k</span>
        `;
        dayDiv.onclick = () => selectDate(date, dayDiv);
        container.appendChild(dayDiv);
      }
    }

    function selectDate(date, element) {
      document.querySelectorAll('.calendar-day-select').forEach(el => el.classList.remove('selected'));
      element.classList.add('selected');
      document.getElementById('timeSlotsSection').style.display = 'block';
      generateTimeSlots();
    }

    function generateTimeSlots() {
      const container = document.getElementById('timeSlotsGrid');
      const slots = ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00'];
      
      container.innerHTML = slots.map(time => `
        <button class="time-slot-btn ${Math.random() > 0.7 ? 'occupied' : ''}" onclick="selectTime('${time}', this)">
          ${time}
        </button>
      `).join('');
    }

    function selectTime(time, element) {
      if (element.classList.contains('occupied')) return;
      
      document.querySelectorAll('.time-slot-btn').forEach(el => el.classList.remove('selected'));
      element.classList.add('selected');
      
      document.getElementById('bookingSummary').style.display = 'block';
      document.getElementById('summaryTime').textContent = time;
    }

    // Inicializar
    generateCalendar();
  </script>
</body>
</html>
<!-- Agregar en el navbar de ambos dashboards -->
<div style="position: relative;">
  <button onclick="toggleNotifications()" style="background: none; border: none; font-size: 24px; cursor: pointer; position: relative;">
    üîî
    <span id="notificationBadge" style="position: absolute; top: -5px; right: -5px; background: var(--danger); color: white; font-size: 12px; padding: 2px 6px; border-radius: 10px; display: none;">0</span>
  </button>
  
  <!-- Dropdown de notificaciones -->
  <div id="notificationsDropdown" style="display: none; position: absolute; right: 0; top: 100%; margin-top: 10px; width: 350px; background: white; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); z-index: 1000; max-height: 500px; overflow-y: auto;">
    <div style="padding: 15px; border-bottom: 1px solid #e9ecef; display: flex; justify-content: space-between; align-items: center;">
      <h4 style="margin: 0;">Notificaciones</h4>
      <button onclick="markAllAsRead()" style="background: none; border: none; color: var(--primary); cursor: pointer; font-size: 12px;">Marcar todo le√≠do</button>
    </div>
    <div id="notificationsList">
      <!-- Se llena din√°micamente -->
    </div>
  </div>
</div>

<script>
  function toggleNotifications() {
    const dropdown = document.getElementById('notificationsDropdown');
    dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
  }

  // Cerrar al hacer clic fuera
  document.addEventListener('click', (e) => {
    if (!e.target.closest('#notificationsDropdown') && !e.target.closest('button[onclick="toggleNotifications()"]')) {
      document.getElementById('notificationsDropdown').style.display = 'none';
    }
  });
</script>
